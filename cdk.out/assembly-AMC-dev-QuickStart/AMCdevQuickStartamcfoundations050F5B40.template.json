{
 "Transform": "AWS::Serverless-2016-10-31",
 "Resources": {
  "amcdatalakecustomerconfigdevtablekey640FF238": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::440278670152:root"
          ]
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "amc Data-Lake-Customer-Config-Dev Table Key",
    "EnableKeyRotation": true,
    "PendingWindowInDays": 30
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-data-lake-customer-config-dev-table-key/Resource"
   }
  },
  "amcdatalakecustomerconfigdevtablekeyAliasE71131BA": {
   "Type": "AWS::KMS::Alias",
   "Properties": {
    "AliasName": "alias/amc-data-lake-customer-config-dev-ddb-table-key",
    "TargetKeyId": {
     "Fn::GetAtt": [
      "amcdatalakecustomerconfigdevtablekey640FF238",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-data-lake-customer-config-dev-table-key/Alias/Resource"
   }
  },
  "amcdatalakecustomerconfigdevtablekeyarnssmCA28FB72": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "amcdatalakecustomerconfigdevtablekey640FF238",
      "Arn"
     ]
    },
    "Name": "/AMC/KMS/CustomerconfigDDBKeyArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-data-lake-customer-config-dev-table-key-arn-ssm/Resource"
   }
  },
  "amcdatalakecustomerconfigdevtable655BAC15": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "KeySchema": [
     {
      "AttributeName": "customer_hash_key",
      "KeyType": "HASH"
     },
     {
      "AttributeName": "hash_key",
      "KeyType": "RANGE"
     }
    ],
    "AttributeDefinitions": [
     {
      "AttributeName": "customer_hash_key",
      "AttributeType": "S"
     },
     {
      "AttributeName": "hash_key",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "GlobalSecondaryIndexes": [
     {
      "IndexName": "amc-index",
      "KeySchema": [
       {
        "AttributeName": "hash_key",
        "KeyType": "HASH"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      }
     }
    ],
    "PointInTimeRecoverySpecification": {
     "PointInTimeRecoveryEnabled": true
    },
    "SSESpecification": {
     "KMSMasterKeyId": {
      "Fn::GetAtt": [
       "amcdatalakecustomerconfigdevtablekey640FF238",
       "Arn"
      ]
     },
     "SSEEnabled": true,
     "SSEType": "KMS"
    },
    "TableName": "amc-data-lake-customer-config-dev"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-data-lake-customer-config-dev-table/Resource"
   }
  },
  "amcdatalakecustomerconfigdevtablearnssmC2C9567E": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Ref": "amcdatalakecustomerconfigdevtable655BAC15"
    },
    "Name": "/AMC/DynamoDB/DataLake/CustomerConfig"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-data-lake-customer-config-dev-table-arn-ssm/Resource"
   }
  },
  "octagonObjectMetadatadevtablekey40A10CEA": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::440278670152:root"
          ]
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "amc Octagon-Objectmetadata-Dev Table Key",
    "EnableKeyRotation": true,
    "PendingWindowInDays": 30
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-ObjectMetadata-dev-table-key/Resource"
   }
  },
  "octagonObjectMetadatadevtablekeyAlias6F6BA249": {
   "Type": "AWS::KMS::Alias",
   "Properties": {
    "AliasName": "alias/amc-octagon-ObjectMetadata-dev-ddb-table-key",
    "TargetKeyId": {
     "Fn::GetAtt": [
      "octagonObjectMetadatadevtablekey40A10CEA",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-ObjectMetadata-dev-table-key/Alias/Resource"
   }
  },
  "octagonObjectMetadatadevtablekeyarnssm3F0FC594": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "octagonObjectMetadatadevtablekey40A10CEA",
      "Arn"
     ]
    },
    "Name": "/AMC/KMS/ObjectmetadataDDBKeyArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-ObjectMetadata-dev-table-key-arn-ssm/Resource"
   }
  },
  "octagonObjectMetadatadevtablekeyidssm2851394E": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Ref": "octagonObjectMetadatadevtablekey40A10CEA"
    },
    "Name": "/AMC/KMS/ObjectmetadataDDBKeyId"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-ObjectMetadata-dev-table-key-id-ssm/Resource"
   }
  },
  "octagonObjectMetadatadevtableFCE56C80": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "KeySchema": [
     {
      "AttributeName": "id",
      "KeyType": "HASH"
     }
    ],
    "AttributeDefinitions": [
     {
      "AttributeName": "id",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "PointInTimeRecoverySpecification": {
     "PointInTimeRecoveryEnabled": true
    },
    "SSESpecification": {
     "KMSMasterKeyId": {
      "Fn::GetAtt": [
       "octagonObjectMetadatadevtablekey40A10CEA",
       "Arn"
      ]
     },
     "SSEEnabled": true,
     "SSEType": "KMS"
    },
    "TableName": "octagon-ObjectMetadata-dev"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-ObjectMetadata-dev-table/Resource"
   }
  },
  "octagonObjectMetadatadevtablearnssmD2801663": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "octagonObjectMetadatadevtableFCE56C80",
      "Arn"
     ]
    },
    "Name": "/AMC/DynamoDB/ObjectmetadataArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-ObjectMetadata-dev-table-arn-ssm/Resource"
   }
  },
  "octagonObjectMetadatadevtablenamessm21E37F4F": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": "octagon-ObjectMetadata-dev",
    "Name": "/AMC/DynamoDB/ObjectMetadata"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-ObjectMetadata-dev-table-name-ssm/Resource"
   }
  },
  "octagonDatasetsdevtablekey8D220625": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::440278670152:root"
          ]
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "amc Octagon-Datasets-Dev Table Key",
    "EnableKeyRotation": true,
    "PendingWindowInDays": 30
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Datasets-dev-table-key/Resource"
   }
  },
  "octagonDatasetsdevtablekeyAliasE616543D": {
   "Type": "AWS::KMS::Alias",
   "Properties": {
    "AliasName": "alias/amc-octagon-Datasets-dev-ddb-table-key",
    "TargetKeyId": {
     "Fn::GetAtt": [
      "octagonDatasetsdevtablekey8D220625",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Datasets-dev-table-key/Alias/Resource"
   }
  },
  "octagonDatasetsdevtablekeyarnssm599E1F48": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "octagonDatasetsdevtablekey8D220625",
      "Arn"
     ]
    },
    "Name": "/AMC/KMS/DatasetsDDBKeyArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Datasets-dev-table-key-arn-ssm/Resource"
   }
  },
  "octagonDatasetsdevtablekeyidssmDB51D49D": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Ref": "octagonDatasetsdevtablekey8D220625"
    },
    "Name": "/AMC/KMS/DatasetsDDBKeyId"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Datasets-dev-table-key-id-ssm/Resource"
   }
  },
  "octagonDatasetsdevtable95526CA7": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "KeySchema": [
     {
      "AttributeName": "name",
      "KeyType": "HASH"
     }
    ],
    "AttributeDefinitions": [
     {
      "AttributeName": "name",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "PointInTimeRecoverySpecification": {
     "PointInTimeRecoveryEnabled": true
    },
    "SSESpecification": {
     "KMSMasterKeyId": {
      "Fn::GetAtt": [
       "octagonDatasetsdevtablekey8D220625",
       "Arn"
      ]
     },
     "SSEEnabled": true,
     "SSEType": "KMS"
    },
    "TableName": "octagon-Datasets-dev"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Datasets-dev-table/Resource"
   }
  },
  "octagonDatasetsdevtablearnssm07811F1F": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "octagonDatasetsdevtable95526CA7",
      "Arn"
     ]
    },
    "Name": "/AMC/DynamoDB/DatasetsArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Datasets-dev-table-arn-ssm/Resource"
   }
  },
  "octagonDatasetsdevtablenamessmD27313A3": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": "octagon-Datasets-dev",
    "Name": "/AMC/DynamoDB/Datasets"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Datasets-dev-table-name-ssm/Resource"
   }
  },
  "octagonPipelinesdevtablekey5EBB60C6": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::440278670152:root"
          ]
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "amc Octagon-Pipelines-Dev Table Key",
    "EnableKeyRotation": true,
    "PendingWindowInDays": 30
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Pipelines-dev-table-key/Resource"
   }
  },
  "octagonPipelinesdevtablekeyAlias4F3FFFA0": {
   "Type": "AWS::KMS::Alias",
   "Properties": {
    "AliasName": "alias/amc-octagon-Pipelines-dev-ddb-table-key",
    "TargetKeyId": {
     "Fn::GetAtt": [
      "octagonPipelinesdevtablekey5EBB60C6",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Pipelines-dev-table-key/Alias/Resource"
   }
  },
  "octagonPipelinesdevtablekeyarnssm3703822E": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "octagonPipelinesdevtablekey5EBB60C6",
      "Arn"
     ]
    },
    "Name": "/AMC/KMS/PipelinesDDBKeyArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Pipelines-dev-table-key-arn-ssm/Resource"
   }
  },
  "octagonPipelinesdevtablekeyidssmEA16D6D8": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Ref": "octagonPipelinesdevtablekey5EBB60C6"
    },
    "Name": "/AMC/KMS/PipelinesDDBKeyId"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Pipelines-dev-table-key-id-ssm/Resource"
   }
  },
  "octagonPipelinesdevtableC51D0A14": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "KeySchema": [
     {
      "AttributeName": "name",
      "KeyType": "HASH"
     }
    ],
    "AttributeDefinitions": [
     {
      "AttributeName": "name",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "PointInTimeRecoverySpecification": {
     "PointInTimeRecoveryEnabled": true
    },
    "SSESpecification": {
     "KMSMasterKeyId": {
      "Fn::GetAtt": [
       "octagonPipelinesdevtablekey5EBB60C6",
       "Arn"
      ]
     },
     "SSEEnabled": true,
     "SSEType": "KMS"
    },
    "TableName": "octagon-Pipelines-dev"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Pipelines-dev-table/Resource"
   }
  },
  "octagonPipelinesdevtablearnssm101D2B02": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "octagonPipelinesdevtableC51D0A14",
      "Arn"
     ]
    },
    "Name": "/AMC/DynamoDB/PipelinesArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Pipelines-dev-table-arn-ssm/Resource"
   }
  },
  "octagonPipelinesdevtablenamessmD148CFBC": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": "octagon-Pipelines-dev",
    "Name": "/AMC/DynamoDB/Pipelines"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-Pipelines-dev-table-name-ssm/Resource"
   }
  },
  "octagonPipelineExecutionHistorydevtablekeyA0B30BEE": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::440278670152:root"
          ]
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "amc Octagon-Pipelineexecutionhistory-Dev Table Key",
    "EnableKeyRotation": true,
    "PendingWindowInDays": 30
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-PipelineExecutionHistory-dev-table-key/Resource"
   }
  },
  "octagonPipelineExecutionHistorydevtablekeyAlias1DE2C89B": {
   "Type": "AWS::KMS::Alias",
   "Properties": {
    "AliasName": "alias/amc-octagon-PipelineExecutionHistory-dev-ddb-table-key",
    "TargetKeyId": {
     "Fn::GetAtt": [
      "octagonPipelineExecutionHistorydevtablekeyA0B30BEE",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-PipelineExecutionHistory-dev-table-key/Alias/Resource"
   }
  },
  "octagonPipelineExecutionHistorydevtablekeyarnssm21ADDB84": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "octagonPipelineExecutionHistorydevtablekeyA0B30BEE",
      "Arn"
     ]
    },
    "Name": "/AMC/KMS/PipelineexecutionhistoryDDBKeyArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-PipelineExecutionHistory-dev-table-key-arn-ssm/Resource"
   }
  },
  "octagonPipelineExecutionHistorydevtablekeyidssmD1F00D45": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Ref": "octagonPipelineExecutionHistorydevtablekeyA0B30BEE"
    },
    "Name": "/AMC/KMS/PipelineexecutionhistoryDDBKeyId"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-PipelineExecutionHistory-dev-table-key-id-ssm/Resource"
   }
  },
  "octagonPipelineExecutionHistorydevtableF22AE839": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "KeySchema": [
     {
      "AttributeName": "id",
      "KeyType": "HASH"
     }
    ],
    "AttributeDefinitions": [
     {
      "AttributeName": "id",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "PointInTimeRecoverySpecification": {
     "PointInTimeRecoveryEnabled": true
    },
    "SSESpecification": {
     "KMSMasterKeyId": {
      "Fn::GetAtt": [
       "octagonPipelineExecutionHistorydevtablekeyA0B30BEE",
       "Arn"
      ]
     },
     "SSEEnabled": true,
     "SSEType": "KMS"
    },
    "TableName": "octagon-PipelineExecutionHistory-dev"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-PipelineExecutionHistory-dev-table/Resource"
   }
  },
  "octagonPipelineExecutionHistorydevtablearnssmF19D5585": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "octagonPipelineExecutionHistorydevtableF22AE839",
      "Arn"
     ]
    },
    "Name": "/AMC/DynamoDB/PipelineexecutionhistoryArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-PipelineExecutionHistory-dev-table-arn-ssm/Resource"
   }
  },
  "octagonPipelineExecutionHistorydevtablenamessmFD742161": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": "octagon-PipelineExecutionHistory-dev",
    "Name": "/AMC/DynamoDB/PipelineExecutionHistory"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/octagon-PipelineExecutionHistory-dev-table-name-ssm/Resource"
   }
  },
  "registerfunctionServiceRole2E42059C": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "PermissionsBoundary": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":iam::440278670152:policy/ddk-dev-hnb659fds-permissions-boundary-440278670152-eu-west-1"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/register-function/ServiceRole/Resource"
   }
  },
  "registerfunctionServiceRoleDefaultPolicy88CC0A92": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "ec2:AssignPrivateIpAddresses",
        "ec2:CreateNetworkInterface",
        "ec2:DeleteNetworkInterface",
        "ec2:DescribeNetworkInterfaces",
        "ec2:UnassignPrivateIpAddresses"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "octagonDatasetsdevtable95526CA7",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:DescribeKey",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "octagonDatasetsdevtablekey8D220625",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "octagonPipelinesdevtableC51D0A14",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:DescribeKey",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "octagonPipelinesdevtablekey5EBB60C6",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "registerfunctionServiceRoleDefaultPolicy88CC0A92",
    "Roles": [
     {
      "Ref": "registerfunctionServiceRole2E42059C"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/register-function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "registerfunctionEA54F590": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "ddk-dev-hnb659fds-assets-440278670152-eu-west-1",
     "S3Key": "466e80cbf0b40ac6025742d6bcc7afaa7fce461e3e9065e3175e89ad66580ebb.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "registerfunctionServiceRole2E42059C",
      "Arn"
     ]
    },
    "Description": "Registers Datasets, Pipelines and Stages into their respective DynamoDB tables",
    "Environment": {
     "Variables": {
      "OCTAGON_DATASET_TABLE_NAME": {
       "Ref": "octagonDatasetsdevtable95526CA7"
      },
      "OCTAGON_PIPELINE_TABLE_NAME": {
       "Ref": "octagonPipelinesdevtableC51D0A14"
      }
     }
    },
    "Handler": "handler.on_event",
    "MemorySize": 256,
    "Runtime": "python3.8",
    "Timeout": 900
   },
   "DependsOn": [
    "registerfunctionServiceRoleDefaultPolicy88CC0A92",
    "registerfunctionServiceRole2E42059C"
   ],
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/register-function/Resource",
    "aws:asset:path": "../asset.466e80cbf0b40ac6025742d6bcc7afaa7fce461e3e9065e3175e89ad66580ebb",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "registerproviderframeworkonEventServiceRoleFF883D11": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "PermissionsBoundary": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":iam::440278670152:policy/ddk-dev-hnb659fds-permissions-boundary-440278670152-eu-west-1"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/register-provider/framework-onEvent/ServiceRole/Resource"
   }
  },
  "registerproviderframeworkonEventServiceRoleDefaultPolicy5BD96E0C": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "registerfunctionEA54F590",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "registerfunctionEA54F590",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "registerproviderframeworkonEventServiceRoleDefaultPolicy5BD96E0C",
    "Roles": [
     {
      "Ref": "registerproviderframeworkonEventServiceRoleFF883D11"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/register-provider/framework-onEvent/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "registerproviderframeworkonEventFD900690": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "ddk-dev-hnb659fds-assets-440278670152-eu-west-1",
     "S3Key": "885e74c18034f7d2833ec7129bb76a442e75d84f9c21ce7990bbb3aea67ab779.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "registerproviderframeworkonEventServiceRoleFF883D11",
      "Arn"
     ]
    },
    "Description": "AWS CDK resource provider framework - onEvent (AMC-dev-QuickStart/amc-foundations/register-provider)",
    "Environment": {
     "Variables": {
      "USER_ON_EVENT_FUNCTION_ARN": {
       "Fn::GetAtt": [
        "registerfunctionEA54F590",
        "Arn"
       ]
      }
     }
    },
    "Handler": "framework.onEvent",
    "Runtime": "nodejs12.x",
    "Timeout": 900
   },
   "DependsOn": [
    "registerproviderframeworkonEventServiceRoleDefaultPolicy5BD96E0C",
    "registerproviderframeworkonEventServiceRoleFF883D11"
   ],
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/register-provider/framework-onEvent/Resource",
    "aws:asset:path": "../asset.885e74c18034f7d2833ec7129bb76a442e75d84f9c21ce7990bbb3aea67ab779",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "registerservicetokenssm0E7CD31A": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "registerproviderframeworkonEventFD900690",
      "Arn"
     ]
    },
    "Name": "/AMC/Lambda/RegisterProviderServiceToken"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/register-service-token-ssm/Resource"
   }
  },
  "amcdatalakeroutingfunctionServiceRole5FC9325E": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "PermissionsBoundary": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":iam::440278670152:policy/ddk-dev-hnb659fds-permissions-boundary-440278670152-eu-west-1"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-data-lake-routing-function/ServiceRole/Resource"
   }
  },
  "amcdatalakeroutingfunctionServiceRoleDefaultPolicyA3DE6A4F": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "ec2:AssignPrivateIpAddresses",
        "ec2:CreateNetworkInterface",
        "ec2:DeleteNetworkInterface",
        "ec2:DescribeNetworkInterfaces",
        "ec2:UnassignPrivateIpAddresses"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "dynamodb:DescribeTable",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DeleteItem",
        "dynamodb:UpdateItem",
        "dynamodb:GetRecords",
        "dynamodb:ListTables"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "amcdatalakecustomerconfigdevtable655BAC15",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "amcdatalakecustomerconfigdevtable655BAC15",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        },
        {
         "Fn::GetAtt": [
          "octagonObjectMetadatadevtableFCE56C80",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "octagonObjectMetadatadevtableFCE56C80",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        },
        {
         "Fn::GetAtt": [
          "octagonDatasetsdevtable95526CA7",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "octagonDatasetsdevtable95526CA7",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "kms:CreateGrant",
        "kms:Decrypt",
        "kms:DescribeKey",
        "kms:Encrypt",
        "kms:GenerateDataKey",
        "kms:GenerateDataKeyPair",
        "kms:GenerateDataKeyPairWithoutPlaintext",
        "kms:GenerateDataKeyWithoutPlaintext",
        "kms:ReEncryptTo",
        "kms:ReEncryptFrom",
        "kms:ListAliases",
        "kms:ListGrants",
        "kms:ListKeys",
        "kms:ListKeyPolicies"
       ],
       "Condition": {
        "ForAnyValue:StringLike": {
         "kms:ResourceAliases": "alias/*"
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "sqs:SendMessage",
        "sqs:DeleteMessage",
        "sqs:ReceiveMessage",
        "sqs:GetQueueAttributes",
        "sqs:ListQueues",
        "sqs:GetQueueUrl",
        "sqs:ListDeadLetterSourceQueues",
        "sqs:ListQueueTags"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:aws:sqs:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":amc-*"
         ]
        ]
       }
      },
      {
       "Action": [
        "ssm:GetParameter",
        "ssm:GetParameters"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:aws:ssm:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":parameter/AMC/*"
         ]
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "amcdatalakeroutingfunctionServiceRoleDefaultPolicyA3DE6A4F",
    "Roles": [
     {
      "Ref": "amcdatalakeroutingfunctionServiceRole5FC9325E"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-data-lake-routing-function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "amcdatalakeroutingfunction45B9BC45": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "ddk-dev-hnb659fds-assets-440278670152-eu-west-1",
     "S3Key": "2bc7e4da319328ad958d810a3e5bb1086fd2d7bb619a1596b81a60d5ad16c994.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "amcdatalakeroutingfunctionServiceRole5FC9325E",
      "Arn"
     ]
    },
    "Description": "routes to the right team and pipeline",
    "Environment": {
     "Variables": {
      "ENV": "dev",
      "APP": "datalake",
      "ORG": "aws",
      "PREFIX": "amc"
     }
    },
    "FunctionName": "amc-data-lake-routing",
    "Handler": "handler.lambda_handler",
    "MemorySize": 256,
    "Runtime": "python3.8",
    "Timeout": 60
   },
   "DependsOn": [
    "amcdatalakeroutingfunctionServiceRoleDefaultPolicyA3DE6A4F",
    "amcdatalakeroutingfunctionServiceRole5FC9325E"
   ],
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-data-lake-routing-function/Resource",
    "aws:asset:path": "../asset.2bc7e4da319328ad958d810a3e5bb1086fd2d7bb619a1596b81a60d5ad16c994",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "amcdatalakeroutingfunctioninvokelambdaeventbridge9599EF1A": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "amcdatalakeroutingfunction45B9BC45",
      "Arn"
     ]
    },
    "Principal": "events.amazonaws.com"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-data-lake-routing-function/invoke-lambda-eventbridge"
   }
  },
  "amcdatalakeroutinglambdassmEB640128": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "amcdatalakeroutingfunction45B9BC45",
      "Arn"
     ]
    },
    "Name": "/AMC/Lambda/Routing"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-data-lake-routing-lambda-ssm/Resource"
   }
  },
  "lakeformationbucketregistrationroleE25C15C2": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lakeformation.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PermissionsBoundary": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":iam::440278670152:policy/ddk-dev-hnb659fds-permissions-boundary-440278670152-eu-west-1"
      ]
     ]
    },
    "Policies": [
     {
      "PolicyDocument": {
       "Statement": [
        {
         "Action": "s3:ListAllMyBuckets",
         "Effect": "Allow",
         "Resource": {
          "Fn::Join": [
           "",
           [
            "arn:",
            {
             "Ref": "AWS::Partition"
            },
            ":s3:::*"
           ]
          ]
         }
        },
        {
         "Action": "s3:ListBucket",
         "Effect": "Allow",
         "Resource": {
          "Fn::Join": [
           "",
           [
            "arn:",
            {
             "Ref": "AWS::Partition"
            },
            ":s3:::amc-dev-eu-west-1-440278670152-*"
           ]
          ]
         }
        },
        {
         "Action": [
          "s3:GetObject",
          "s3:GetObjectAttributes",
          "s3:GetObjectTagging",
          "s3:GetObjectVersion",
          "s3:GetObjectVersionAttributes",
          "s3:GetObjectVersionTagging",
          "s3:PutObjectTagging",
          "s3:PutObjectVersionTagging",
          "s3:PutObject"
         ],
         "Effect": "Allow",
         "Resource": {
          "Fn::Join": [
           "",
           [
            "arn:",
            {
             "Ref": "AWS::Partition"
            },
            ":s3:::amc-dev-eu-west-1-440278670152-*/*"
           ]
          ]
         }
        }
       ],
       "Version": "2012-10-17"
      },
      "PolicyName": "LakeFormationDataAccessPolicyForS3"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/lakeformation-bucket-registration-role/Resource"
   }
  },
  "amcrawbucketkey2421CE9C": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::440278670152:root"
          ]
         ]
        }
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:CreateGrant",
        "kms:Decrypt",
        "kms:DescribeKey",
        "kms:Encrypt",
        "kms:GenerateDataKey*",
        "kms:ReEncrypt*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "lakeformationbucketregistrationroleE25C15C2",
          "Arn"
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "amc Raw Bucket Key",
    "EnableKeyRotation": true,
    "PendingWindowInDays": 30
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-raw-bucket-key/Resource"
   }
  },
  "amcrawbucketkeyAlias1811AE27": {
   "Type": "AWS::KMS::Alias",
   "Properties": {
    "AliasName": "alias/amc-raw-bucket-key",
    "TargetKeyId": {
     "Fn::GetAtt": [
      "amcrawbucketkey2421CE9C",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-raw-bucket-key/Alias/Resource"
   }
  },
  "amcrawbucketkeyarnssm88BF00F9": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "amcrawbucketkey2421CE9C",
      "Arn"
     ]
    },
    "Name": "/AMC/KMS/RawBucketKeyArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-raw-bucket-key-arn-ssm/Resource"
   }
  },
  "amcrawbucketB73209C2": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "AccessControl": "BucketOwnerFullControl",
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "KMSMasterKeyID": {
         "Fn::GetAtt": [
          "amcrawbucketkey2421CE9C",
          "Arn"
         ]
        },
        "SSEAlgorithm": "aws:kms"
       }
      }
     ]
    },
    "BucketName": "amc-dev-eu-west-1-440278670152-raw",
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-raw-bucket/Resource"
   }
  },
  "amcrawbucketPolicyDE10F6A5": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "amcrawbucketB73209C2"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:*",
       "Condition": {
        "Bool": {
         "aws:SecureTransport": "false"
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "amcrawbucketB73209C2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "amcrawbucketB73209C2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-raw-bucket/Policy/Resource"
   }
  },
  "amcrawbucketarnssmE2CCA4DE": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "amcrawbucketB73209C2",
      "Arn"
     ]
    },
    "Name": "/AMC/S3/RawBucketArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-raw-bucket-arn-ssm/Resource"
   }
  },
  "amcrawbucketnamessm0DEEC2ED": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": "amc-dev-eu-west-1-440278670152-raw",
    "Name": "/AMC/S3/RawBucket"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-raw-bucket-name-ssm/Resource"
   }
  },
  "amcrawbucketlakeformationregistration": {
   "Type": "AWS::LakeFormation::Resource",
   "Properties": {
    "ResourceArn": {
     "Fn::GetAtt": [
      "amcrawbucketB73209C2",
      "Arn"
     ]
    },
    "UseServiceLinkedRole": false,
    "RoleArn": {
     "Fn::GetAtt": [
      "lakeformationbucketregistrationroleE25C15C2",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-raw-bucket-lakeformation-registration"
   }
  },
  "amcstagebucketkeyD1FEC8FA": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::440278670152:root"
          ]
         ]
        }
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:CreateGrant",
        "kms:Decrypt",
        "kms:DescribeKey",
        "kms:Encrypt",
        "kms:GenerateDataKey*",
        "kms:ReEncrypt*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "lakeformationbucketregistrationroleE25C15C2",
          "Arn"
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "amc Stage Bucket Key",
    "EnableKeyRotation": true,
    "PendingWindowInDays": 30
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-stage-bucket-key/Resource"
   }
  },
  "amcstagebucketkeyAliasC106FF93": {
   "Type": "AWS::KMS::Alias",
   "Properties": {
    "AliasName": "alias/amc-stage-bucket-key",
    "TargetKeyId": {
     "Fn::GetAtt": [
      "amcstagebucketkeyD1FEC8FA",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-stage-bucket-key/Alias/Resource"
   }
  },
  "amcstagebucketkeyarnssmAC3816C9": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "amcstagebucketkeyD1FEC8FA",
      "Arn"
     ]
    },
    "Name": "/AMC/KMS/StageBucketKeyArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-stage-bucket-key-arn-ssm/Resource"
   }
  },
  "amcstagebucket0D096942": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "AccessControl": "BucketOwnerFullControl",
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "KMSMasterKeyID": {
         "Fn::GetAtt": [
          "amcstagebucketkeyD1FEC8FA",
          "Arn"
         ]
        },
        "SSEAlgorithm": "aws:kms"
       }
      }
     ]
    },
    "BucketName": "amc-dev-eu-west-1-440278670152-stage",
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-stage-bucket/Resource"
   }
  },
  "amcstagebucketPolicy444280DB": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "amcstagebucket0D096942"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:*",
       "Condition": {
        "Bool": {
         "aws:SecureTransport": "false"
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "amcstagebucket0D096942",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "amcstagebucket0D096942",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-stage-bucket/Policy/Resource"
   }
  },
  "amcstagebucketarnssm9E580FD1": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "amcstagebucket0D096942",
      "Arn"
     ]
    },
    "Name": "/AMC/S3/StageBucketArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-stage-bucket-arn-ssm/Resource"
   }
  },
  "amcstagebucketnamessm2AD8DCD9": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": "amc-dev-eu-west-1-440278670152-stage",
    "Name": "/AMC/S3/StageBucket"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-stage-bucket-name-ssm/Resource"
   }
  },
  "amcstagebucketlakeformationregistration": {
   "Type": "AWS::LakeFormation::Resource",
   "Properties": {
    "ResourceArn": {
     "Fn::GetAtt": [
      "amcstagebucket0D096942",
      "Arn"
     ]
    },
    "UseServiceLinkedRole": false,
    "RoleArn": {
     "Fn::GetAtt": [
      "lakeformationbucketregistrationroleE25C15C2",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-stage-bucket-lakeformation-registration"
   }
  },
  "amcanalyticsbucketkey91F00115": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::440278670152:root"
          ]
         ]
        }
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:CreateGrant",
        "kms:Decrypt",
        "kms:DescribeKey",
        "kms:Encrypt",
        "kms:GenerateDataKey*",
        "kms:ReEncrypt*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "lakeformationbucketregistrationroleE25C15C2",
          "Arn"
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "amc Analytics Bucket Key",
    "EnableKeyRotation": true,
    "PendingWindowInDays": 30
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-analytics-bucket-key/Resource"
   }
  },
  "amcanalyticsbucketkeyAlias5E495FAF": {
   "Type": "AWS::KMS::Alias",
   "Properties": {
    "AliasName": "alias/amc-analytics-bucket-key",
    "TargetKeyId": {
     "Fn::GetAtt": [
      "amcanalyticsbucketkey91F00115",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-analytics-bucket-key/Alias/Resource"
   }
  },
  "amcanalyticsbucketkeyarnssm37C78A09": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "amcanalyticsbucketkey91F00115",
      "Arn"
     ]
    },
    "Name": "/AMC/KMS/AnalyticsBucketKeyArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-analytics-bucket-key-arn-ssm/Resource"
   }
  },
  "amcanalyticsbucketD7F3310B": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "AccessControl": "BucketOwnerFullControl",
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "KMSMasterKeyID": {
         "Fn::GetAtt": [
          "amcanalyticsbucketkey91F00115",
          "Arn"
         ]
        },
        "SSEAlgorithm": "aws:kms"
       }
      }
     ]
    },
    "BucketName": "amc-dev-eu-west-1-440278670152-analytics",
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-analytics-bucket/Resource"
   }
  },
  "amcanalyticsbucketPolicy7E8BE02F": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "amcanalyticsbucketD7F3310B"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:*",
       "Condition": {
        "Bool": {
         "aws:SecureTransport": "false"
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "amcanalyticsbucketD7F3310B",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "amcanalyticsbucketD7F3310B",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-analytics-bucket/Policy/Resource"
   }
  },
  "amcanalyticsbucketarnssm5F71C901": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "amcanalyticsbucketD7F3310B",
      "Arn"
     ]
    },
    "Name": "/AMC/S3/AnalyticsBucketArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-analytics-bucket-arn-ssm/Resource"
   }
  },
  "amcanalyticsbucketnamessm1719C212": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": "amc-dev-eu-west-1-440278670152-analytics",
    "Name": "/AMC/S3/AnalyticsBucket"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-analytics-bucket-name-ssm/Resource"
   }
  },
  "amcanalyticsbucketlakeformationregistration": {
   "Type": "AWS::LakeFormation::Resource",
   "Properties": {
    "ResourceArn": {
     "Fn::GetAtt": [
      "amcanalyticsbucketD7F3310B",
      "Arn"
     ]
    },
    "UseServiceLinkedRole": false,
    "RoleArn": {
     "Fn::GetAtt": [
      "lakeformationbucketregistrationroleE25C15C2",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-analytics-bucket-lakeformation-registration"
   }
  },
  "amcartifactsbucketkeyEFD11087": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::440278670152:root"
          ]
         ]
        }
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:CreateGrant",
        "kms:Decrypt",
        "kms:DescribeKey",
        "kms:Encrypt",
        "kms:GenerateDataKey*",
        "kms:ReEncrypt*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "lakeformationbucketregistrationroleE25C15C2",
          "Arn"
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "amc Artifacts Bucket Key",
    "EnableKeyRotation": true,
    "PendingWindowInDays": 30
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-artifacts-bucket-key/Resource"
   }
  },
  "amcartifactsbucketkeyAlias4B4D8973": {
   "Type": "AWS::KMS::Alias",
   "Properties": {
    "AliasName": "alias/amc-artifacts-bucket-key",
    "TargetKeyId": {
     "Fn::GetAtt": [
      "amcartifactsbucketkeyEFD11087",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-artifacts-bucket-key/Alias/Resource"
   }
  },
  "amcartifactsbucketkeyarnssmDC58823D": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "amcartifactsbucketkeyEFD11087",
      "Arn"
     ]
    },
    "Name": "/AMC/KMS/ArtifactsBucketKeyArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-artifacts-bucket-key-arn-ssm/Resource"
   }
  },
  "amcartifactsbucket59EC3FBC": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "AccessControl": "BucketOwnerFullControl",
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "KMSMasterKeyID": {
         "Fn::GetAtt": [
          "amcartifactsbucketkeyEFD11087",
          "Arn"
         ]
        },
        "SSEAlgorithm": "aws:kms"
       }
      }
     ]
    },
    "BucketName": "amc-dev-eu-west-1-440278670152-artifacts",
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-artifacts-bucket/Resource"
   }
  },
  "amcartifactsbucketPolicyB8F7CCBD": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "amcartifactsbucket59EC3FBC"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:*",
       "Condition": {
        "Bool": {
         "aws:SecureTransport": "false"
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "amcartifactsbucket59EC3FBC",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "amcartifactsbucket59EC3FBC",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-artifacts-bucket/Policy/Resource"
   }
  },
  "amcartifactsbucketarnssm2117A2BB": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "amcartifactsbucket59EC3FBC",
      "Arn"
     ]
    },
    "Name": "/AMC/S3/ArtifactsBucketArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-artifacts-bucket-arn-ssm/Resource"
   }
  },
  "amcartifactsbucketnamessm37F18AF9": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": "amc-dev-eu-west-1-440278670152-artifacts",
    "Name": "/AMC/S3/ArtifactsBucket"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-artifacts-bucket-name-ssm/Resource"
   }
  },
  "amcartifactsbucketlakeformationregistration": {
   "Type": "AWS::LakeFormation::Resource",
   "Properties": {
    "ResourceArn": {
     "Fn::GetAtt": [
      "amcartifactsbucket59EC3FBC",
      "Arn"
     ]
    },
    "UseServiceLinkedRole": false,
    "RoleArn": {
     "Fn::GetAtt": [
      "lakeformationbucketregistrationroleE25C15C2",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-artifacts-bucket-lakeformation-registration"
   }
  },
  "amcathenabucketkeyAAD3FDB1": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::440278670152:root"
          ]
         ]
        }
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:CreateGrant",
        "kms:Decrypt",
        "kms:DescribeKey",
        "kms:Encrypt",
        "kms:GenerateDataKey*",
        "kms:ReEncrypt*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "lakeformationbucketregistrationroleE25C15C2",
          "Arn"
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "amc Athena Bucket Key",
    "EnableKeyRotation": true,
    "PendingWindowInDays": 30
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-athena-bucket-key/Resource"
   }
  },
  "amcathenabucketkeyAlias0CC50C83": {
   "Type": "AWS::KMS::Alias",
   "Properties": {
    "AliasName": "alias/amc-athena-bucket-key",
    "TargetKeyId": {
     "Fn::GetAtt": [
      "amcathenabucketkeyAAD3FDB1",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-athena-bucket-key/Alias/Resource"
   }
  },
  "amcathenabucketkeyarnssm5E291A0E": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "amcathenabucketkeyAAD3FDB1",
      "Arn"
     ]
    },
    "Name": "/AMC/KMS/AthenaBucketKeyArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-athena-bucket-key-arn-ssm/Resource"
   }
  },
  "amcathenabucketCB8DBE02": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "AccessControl": "BucketOwnerFullControl",
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "KMSMasterKeyID": {
         "Fn::GetAtt": [
          "amcathenabucketkeyAAD3FDB1",
          "Arn"
         ]
        },
        "SSEAlgorithm": "aws:kms"
       }
      }
     ]
    },
    "BucketName": "amc-dev-eu-west-1-440278670152-athena",
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-athena-bucket/Resource"
   }
  },
  "amcathenabucketPolicy22E013D7": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "amcathenabucketCB8DBE02"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:*",
       "Condition": {
        "Bool": {
         "aws:SecureTransport": "false"
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "amcathenabucketCB8DBE02",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "amcathenabucketCB8DBE02",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-athena-bucket/Policy/Resource"
   }
  },
  "amcathenabucketarnssmE9A31B11": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Fn::GetAtt": [
      "amcathenabucketCB8DBE02",
      "Arn"
     ]
    },
    "Name": "/AMC/S3/AthenaBucketArn"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-athena-bucket-arn-ssm/Resource"
   }
  },
  "amcathenabucketnamessm8F6DEE33": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": "amc-dev-eu-west-1-440278670152-athena",
    "Name": "/AMC/S3/AthenaBucket"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-athena-bucket-name-ssm/Resource"
   }
  },
  "amcathenabucketlakeformationregistration": {
   "Type": "AWS::LakeFormation::Resource",
   "Properties": {
    "ResourceArn": {
     "Fn::GetAtt": [
      "amcathenabucketCB8DBE02",
      "Arn"
     ]
    },
    "UseServiceLinkedRole": false,
    "RoleArn": {
     "Fn::GetAtt": [
      "lakeformationbucketregistrationroleE25C15C2",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc-athena-bucket-lakeformation-registration"
   }
  },
  "wranglerlayers": {
   "Type": "AWS::Serverless::Application",
   "Properties": {
    "Location": {
     "ApplicationId": "arn:aws:serverlessrepo:us-east-1:336392948345:applications/aws-data-wrangler-layer-py3-8",
     "SemanticVersion": "2.12.0"
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/wrangler-layers"
   }
  },
  "datalakelibrarylayerD190EE1A": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": "ddk-dev-hnb659fds-assets-440278670152-eu-west-1",
     "S3Key": "281d1079b93da58cab926b4bd8aed850be84bf3231cfb2b21f76fa7ac4982873.zip"
    },
    "CompatibleRuntimes": [
     "python3.8"
    ],
    "Description": "amc Data Lake Library",
    "LayerName": "data-lake-library",
    "LicenseInfo": "Apache-2.0"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/data-lake-library-layer/Resource",
    "aws:asset:path": "../asset.281d1079b93da58cab926b4bd8aed850be84bf3231cfb2b21f76fa7ac4982873",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Content"
   }
  },
  "datalakelibrarylayer940B92A1": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": {
     "Ref": "datalakelibrarylayerD190EE1A"
    },
    "Name": "/AMC/Layer/DataLakeLibrary"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/data_lake_library_layer/Resource"
   }
  },
  "amcTrailS3C68A70D9": {
   "Type": "AWS::S3::Bucket",
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc Trail/S3/Resource"
   }
  },
  "amcTrailS3PolicyCFC285E2": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "amcTrailS3C68A70D9"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:*",
       "Condition": {
        "Bool": {
         "aws:SecureTransport": "false"
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "amcTrailS3C68A70D9",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "amcTrailS3C68A70D9",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "s3:GetBucketAcl",
       "Effect": "Allow",
       "Principal": {
        "Service": "cloudtrail.amazonaws.com"
       },
       "Resource": {
        "Fn::GetAtt": [
         "amcTrailS3C68A70D9",
         "Arn"
        ]
       }
      },
      {
       "Action": "s3:PutObject",
       "Condition": {
        "StringEquals": {
         "s3:x-amz-acl": "bucket-owner-full-control"
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "cloudtrail.amazonaws.com"
       },
       "Resource": {
        "Fn::Join": [
         "",
         [
          {
           "Fn::GetAtt": [
            "amcTrailS3C68A70D9",
            "Arn"
           ]
          },
          "/AWSLogs/440278670152/*"
         ]
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc Trail/S3/Policy/Resource"
   }
  },
  "amcTrail1EFD3F1C": {
   "Type": "AWS::CloudTrail::Trail",
   "Properties": {
    "IsLogging": true,
    "S3BucketName": {
     "Ref": "amcTrailS3C68A70D9"
    },
    "EnableLogFileValidation": true,
    "EventSelectors": [
     {
      "IncludeManagementEvents": true,
      "ReadWriteType": "All"
     },
     {
      "DataResources": [
       {
        "Type": "AWS::S3::Object",
        "Values": [
         {
          "Fn::Join": [
           "",
           [
            "arn:",
            {
             "Ref": "AWS::Partition"
            },
            ":s3:::"
           ]
          ]
         }
        ]
       }
      ]
     }
    ],
    "IncludeGlobalServiceEvents": false,
    "IsMultiRegionTrail": false
   },
   "DependsOn": [
    "amcTrailS3PolicyCFC285E2"
   ],
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/amc Trail/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/01Qy07DMBD8lt5dE5ovaJG4wCEKiGu0cbbFxI/K64CiyP+O10mhp5nR7GM0B3moZLWDH9qrYdwb3cvlLYIaRYvkp6BQZK9bRktyecFZPJ0dw9FoIBaFJEFkeTFod2kggMWIge0/kcQwO7B+yA/eoTfIbiFJGLD9AHJ5npyK2ju27nmDwWoiVq8wY/jAQJt1r5PQkFO0fj1esPFGq5J6ZTlp3QERRpJHhqzlcprUiPEEhGKlvLCxFf7v3GuOPuLZBwucVfLXW22Us3A/12ueLLZQxk9DDKBN7oChdMAkJVHS5OovuUKhJoredmE7RrIJ/lsPa6e3F0k0c/z07qGWj5Wsd1+k9T5MLmqLsl3xF7NATtbgAQAA"
   },
   "Metadata": {
    "aws:cdk:path": "AMC-dev-QuickStart/amc-foundations/CDKMetadata/Default"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/ddk/dev/hnb659fds/bootstrap-version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}